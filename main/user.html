<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New User</title>
    <link rel="stylesheet" href="css/lib/bootstrap.min.css">
</head>

<body class="bg-primary vh-100">
    <div class="card col-6 offset-3 mt-5">
        <div class="card-header">
            <h3>Create New Account</h3>
        </div>
        <div class="card-body">
            <form>
                <div class="">
                    <input id="txtEmail" class="form-control" type="email" aria-label="Enter Email Address" placeholder="Email Address">
                    <div class="invalid-feedback">You Must Enter an Email</div>
                </div>
                <div class="">
                    <input id="txtFirstName" class="form-control" type="text" aria-label="First Name" placeholder="First Name">
                    <div class="invalid-feedback">You Must Enter Your First Name</div>
                </div>
                <div class="">
                    <input id="txtLastName" class="form-control" type="text" aria-label="Last Name" placeholder="Last Name">
                    <div class="invalid-feedback">You Must Enter Your Last Name</div>
                </div>
                <div class="">
                    <input id="txtPassword" class="form-control" type="password" aria-label="Enter Password" placeholder="Password">
                    <div class="invalid-feedback">You Must Enter a Password</div>
                </div>
                <button id="btnCreate" class="btn btn-primary" type="button">Create User</button>
            </form>
        </div>
    </div>
    
    <script src="js/lib/jquery-3.6.1.min.js"></script>
    <script src="js/lib/bootstrap.bundle.min.js"></script>
    <script src="js/lib/sweetalert2.js"></script>
    <script>
        $('#btnCreate').on('click', function() {
            let strEmail = $('#txtEmail').val();
            let strFirstName = $('#txtFirstName').val();
            let strLastName = $('#txtLastName').val();
            let strPassword = $('#txtPassword').val();
            //console.log(strEmail + ' | ' + strFirstName + ' | ' + strLastName + ' | ' + strPassword)
            let blnError = false;
            let strErrorMessage = '';
            if(!strEmail) {
                blnError = true;
                strErrorMessage += '<p>Email cannot be blank</p>';
            }
            if(!strFirstName) {
                blnError = true;
                strErrorMessage += '<p>First Name cannot be blank</p>';
            }
            if(!strLastName) {
                blnError = true;
                strErrorMessage += '<p>Last Name cannot be blank</p>';
            }
            if(!strPassword) {
                blnError = true;
                strErrorMessage += '<p>Password cannot be blank</p>';
                //$('txtPassword').addClass('is-invalid');
            }
            
            if(blnError == false) {
                /*$.post('https://www.swollenhippo.com/ReliableVehicles/api/users.php', {email:strEmail, firstName:strFirstName, lastName:strLastName, password:strPassword}).done(function(result) {
                    console.log(result);
                })*/
                console.log('Our check passed');
            } else {
                Swal.fire({
                    icon: 'error',
                    title: 'Oops...',
                    html: strErrorMessage
                })
            }
        })
    </script>
</body>
</html>